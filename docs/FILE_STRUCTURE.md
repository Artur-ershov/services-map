# Структура файлов и система документации

## Общая структура проекта

```
srv/
├── .cursor/                    # Внутренняя документация для AI (не коммитится)
│   ├── ARCHITECTURE_DISCUSSIONS.md
│   └── WORKFLOW_NOTES.md
│
├── docs/                       # Публичная документация
│   ├── PROCESS.md              # Процесс работы и чеклист
│   ├── SVG_PROCESSING.md       # Правила обработки SVG
│   └── FILE_STRUCTURE.md       # Структура файлов (этот файл)
│
├── scripts/                    # Скрипты автоматизации
│   ├── sync-csv-to-data.py    # CSV → data.js синхронизация
│   └── generate-svg-floor-plans.py
│
├── data/                       # Исходные данные
│   └── карта сервисов...csv   # CSV таблица с сервисами
│
├── assets/                     # Ресурсы
│   └── fonts/                  # Шрифты
│       └── CoFoWeather20240219-VF.ttf
│
├── map/                        # SVG файлы карт этажей
│   ├── b1f1.svg
│   ├── b1f2.svg
│   └── ...
│
├── index.html                  # Основной HTML
├── app.js                      # Логика модуля
├── style.css                   # Стили
├── tmp.css                     # Временный фикс для шрифтов (НЕ УДАЛЯТЬ)
└── data.js                     # Данные сервисов (генерируется из CSV)
```

## Папка `.cursor/` - как это работает

### Что это такое?

`.cursor/` - это специальная папка для хранения контекста работы с AI. Она:
- **НЕ коммитится в Git** (добавлена в `.gitignore`)
- Используется для восстановления контекста между сессиями
- Содержит внутренние обсуждения и решения

### Как Cursor AI использует эти файлы?

**ВАЖНО:** Cursor AI **НЕ читает автоматически** файлы из `.cursor/` при каждом запросе. 

Вместо этого:
1. **Вы можете явно попросить** AI прочитать файл: "прочитай `.cursor/ARCHITECTURE_DISCUSSIONS.md`"
2. **AI может использовать** эти файлы как контекст при ответах на вопросы
3. **Вы вручную обновляете** эти файлы при необходимости

### Что класть в `.cursor/`?

✅ **Класть в `.cursor/`:**
- Внутренние обсуждения архитектурных решений
- Заметки о процессе работы (для себя и AI)
- Контекст, который нужно помнить между сессиями
- Временные идеи и эксперименты

❌ **НЕ класть в `.cursor/`:**
- Публичную документацию (README, инструкции) → в корень проекта
- Код или конфигурацию → в соответствующие папки
- Техническую документацию для других разработчиков → в корень

## Разделение документации

### Публичная документация (в папке `docs/`)

Эти файлы **коммитятся в Git** и доступны всем:

- `README.md` - основная документация проекта (в корне)
- `docs/PROCESS.md` - процесс работы, чеклисты
- `docs/SVG_PROCESSING.md` - техническая документация
- `docs/FILE_STRUCTURE.md` - структура файлов (этот файл)

**Назначение:** Информация для разработчиков, клиентов, понимание проекта.

### Внутренняя документация (в `.cursor/`)

Эти файлы **НЕ коммитятся** в Git:

- `.cursor/ARCHITECTURE_DISCUSSIONS.md` - почему сделано так, а не иначе
- `.cursor/WORKFLOW_NOTES.md` - заметки о процессе работы с AI

**Назначение:** Контекст для AI, внутренние решения, восстановление работы.

## Рекомендуемый workflow

### При начале работы

1. Если нужен контекст предыдущих решений:
   - Попросите AI: "прочитай `.cursor/ARCHITECTURE_DISCUSSIONS.md`"
   - Или просто спросите про конкретную проблему

### При принятии решений

1. **Важное архитектурное решение** → добавьте в `.cursor/ARCHITECTURE_DISCUSSIONS.md`
2. **Критичная информация для проекта** → добавьте в `README.md` или `PROCESS.md`
3. **Внутренние заметки** → в `.cursor/WORKFLOW_NOTES.md`

### При коммите

1. Публичная документация (`README.md`, `PROCESS.md`) → коммитим
2. `.cursor/` → НЕ коммитим (в `.gitignore`)
3. Код → коммитим

## Примеры использования

### Пример 1: Новое архитектурное решение

```markdown
# В .cursor/ARCHITECTURE_DISCUSSIONS.md

## Решение: Использование build-time обработки SVG

**Проблема:** Runtime обработка медленная
**Решение:** Обрабатывать SVG при генерации data.js
**Статус:** Идея, не реализовано
```

### Пример 2: Критичная информация

```markdown
# В README.md

## Важно

- `tmp.css` НЕ УДАЛЯТЬ (нужен для локального просмотра)
- `areaId` в CSV должен совпадать с `id` в SVG
```

## Автоматизация (будущее)

В будущем можно создать скрипт, который:
- Автоматически обновляет `.cursor/` при принятии решений
- Извлекает контекст из чата
- Обновляет документацию

**Но сейчас:** Обновление вручную при необходимости.

