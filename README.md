# КРОК СЕРВИСЫ - Модуль карты этажей

## Контекст проекта

Этот проект представляет собой интерактивный модуль карты этажей зданий для отображения сервисов и помещений. Модуль разрабатывается для интеграции в **Tilda** (конструктор сайтов).

## Важные заметки

### Временный фикс для шрифтов

Файл `tmp.css` содержит временный фикс для подключения шрифтов:
- Использует `!important` для переопределения `font-family` на всех элементах
- Это необходимо для корректной работы шрифтов в контексте Tilda
- **НЕ УДАЛЯТЬ** без замены на постоянное решение

### Структура файлов

- `index.html` - основная разметка модуля
- `style.css` - основные стили модуля
- `tmp.css` - временные стили для шрифтов (см. выше)
- `app.js` - логика модуля (фильтрация, карта, взаимодействие)
- `data.js` - данные о сервисах и этажах
- `floor-*.svg` - SVG карты этажей

### CSS переменные

Модуль использует CSS переменные для корпоративных цветов:
- `--krok-green`, `--krok-blue`, `--krok-purple`, `--krok-red`, `--krok-orange`
- RGB версии для использования в `rgba()`: `--krok-*-rgb`

## Запуск локального сервера

Для разработки и тестирования модуля используется команда `srv`:

```bash
srv
```

Сервер запустится на `http://localhost/` (порт 80) с автоматической перезагрузкой страницы при изменении файлов (livereload).

**Важно:** При использовании livereload временно отключены debug-логи с `fetch()` запросами, чтобы избежать постоянных перезагрузок страницы.

## Интеграция в Tilda

При интеграции в Tilda необходимо:
1. Убедиться, что все CSS файлы загружаются в правильном порядке
2. Проверить, что шрифты доступны (или использовать `tmp.css`)
3. Убедиться, что модуль изолирован от стилей Tilda (используется `#krok-services-map-module`)

